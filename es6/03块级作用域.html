<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        window.onload = function () {
            var abtn = document.getElementsByTagName('input');
            // function test(i) {
            //     console.log(i)
            // 多了一个function事件，多了一层闭包，每次循环多了一个函数作用域
            //     abtn[i].onclick=function () {
            // 闭包 引用外部的函数i
            //         alert(i)
            //     }
            // }

            for (var i = 0; i < abtn.length; i++) {
                    console.log(i)
                    //1.在点击事件之前，循环已经结束
                    //2.点击事件function里面的i相当于闭包，引用的外部for语句的变量i，i已经是等于3了，所以不管点击哪一个按钮都是i=3
                    abtn[i].onclick=function () {
                        alert(i)
                    }
                // test(i)

            }
        }
    </script>
</head>
<body>
<input type="button" value="按钮1">
<input type="button" value="按钮2">
<input type="button" value="按钮3">
</body>
</html>