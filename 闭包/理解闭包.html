<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 1.当一个嵌套的内部函数引用了父函数的变量时，就产生了闭包


        // 闭包到底是什么
        // 使用chrome调式
        // 理解一：闭包时嵌套的内部函数
        // 理解二：包含被引用变量的对象 图closure里面的slosure对象

        // 产生闭包的条件
        // 函数嵌套
        // 内部函数引用了当前函数词法作用域内的数据
        let a = 5
        function fun1() {
            debugger
            var b = 3;
            let a = 4
            function fun2() {
                debugger
                console.log(b) //内部函数引用了当前函数词法作用域内的数据
            }
            fun2() //产生了闭包
        }
        fun1();

// 下面是闭包的应用，我们把闭包的函数fn2 return 出去 查看闭包的作用.js
        function fn1() {
            var a = 2;
            function fn2() {
                a++
            }
            return fn2
        }
        var f = fn1()
        f()
        console.log(window)
    </script>
</body>

</html>